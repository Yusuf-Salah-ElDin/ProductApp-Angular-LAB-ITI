<!-- <div *ngIf="loading">Loading...</div>
<div *ngIf="!loading && product" class="container my-4">

    <h2>{{product.title}}</h2>

    <img [src]="product.thumbnail" class="img-fluid mb-3" alt="image"/>
    <p><strong>Price: </strong>£{{product.price}}</p>
    <p><strong>Description: </strong>{{product.description}}</p>
    <p><strong>Rating: </strong>{{product.rating}}</p>
    <p><strong>Stock: </strong>{{product.stock}}</p>
    <p><strong>Brand: </strong>{{product.brand}}</p>

    <button class="btn btn-success" (click)="addToCart()">Add to Basket</button>

</div> -->

<div *ngIf="loading" class="text-center my-5">
  <div class="spinner-border text-primary" role="status">
    <span class="visually-hidden">Loading...</span>
  </div>
</div>

<div *ngIf="!loading && product" class="container my-4">
  <div class="row">
    <div class="col-md-6">
      <img [src]="product.thumbnail" class="img-fluid rounded mb-3" [alt]="product.title">
      <div class="d-flex flex-wrap gap-2">
        <img *ngFor="let image of product.images" [src]="image" class="img-thumbnail" style="width: 100px; height: 100px;">
      </div>
    </div>
    <div class="col-md-6">
      <h2>{{product.title}}</h2>
      <span class="badge bg-primary mb-2">{{product.category}}</span>
      <p class="text-success fw-bold">£{{product.price | number:'1.2-2'}}</p>
      <p>{{product.description}}</p>
      
      <div class="mb-3">
        <span class="text-warning">{{product.rating | ratingStars}}</span>
        <span class="ms-2">({{product.rating}})</span>
      </div>
      
      <p><strong>Brand:</strong> {{product.brand}}</p>
      <p><strong>Stock:</strong> 
        <span [class.text-success]="product.stock > 0" [class.text-danger]="product.stock <= 0">
          {{product.stock > 0 ? product.stock + ' available' : 'Out of stock'}}
        </span>
      </p>
      
      <div class="d-flex gap-2 mt-4">
        <button class="btn btn-primary" (click)="addToCart()" [disabled]="product.stock <= 0">
          Add to Cart
        </button>
        <a routerLink="/products" class="btn btn-outline-secondary">Back to Products</a>
      </div>
    </div>
  </div>
</div>